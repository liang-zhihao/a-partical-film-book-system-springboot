(this.webpackJsonpcinema=this.webpackJsonpcinema||[]).push([[0],{1581:function(e,t){},1639:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(49),o=a.n(c),i=(a(354),a(355),a(20)),l=a(21),s=a(22),u=a(23),m=a(36),d=a.n(m),p=a(35),f=a(83),h=a(1664),b=a(1665),v=(a(170),a(1657)),y=a(1663),E=a(1655),g=a(220),O=a(1661),j=a(27),k=a(55),w=a(12),C={userId:""},x="saveUserId",I="clearUserId",S=function(e){return console.log("UserId is ".concat(e)),{type:x,data:e}},P=function(){return{type:I,data:""}},K=a(2),N=a.n(K),D=a(11),F=a.n(D),T=a(25),A=window.sessionStorage,R={};function M(){return A.getItem("accessToken")}function V(e){window.sessionStorage.setItem("accessToken",e)}function z(){var e=M();return null===e||"-1"===e}function L(){window.sessionStorage.setItem("accessToken","-1")}function H(){return!z()}function U(){return B.apply(this,arguments)}function B(){return(B=Object(T.a)(F.a.mark((function e(){var t,a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={accessToken:M()},e.next=3,le(t).then((function(e){return e}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=a(165),Y=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).defaultProps={header:"",content:""},e.state={open:!1,header:"",content:"",error:!1},e.show=function(t,a,n){n="error"===n,e.setState({open:!0,header:t,content:a,error:n}),setTimeout((function(){e.setState({open:!1})}),1e4)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.header,c=t.content,o=t.error;return r.a.createElement(W.a,{size:"mini",onClose:function(){e.setState({open:!1})},open:a},r.a.createElement(O.a,{error:o,header:n,content:c}))}}]),a}(n.Component),q=document.createElement("div");document.body.appendChild(q);var G=o.a.render(r.a.createElement(Y,{}),q),J="http://localhost:8090/api",$=function(){var e=M();return z()?R:R={Authorization:e="Bearer "+e}}(),_=d.a.create({baseURL:J,timeout:1e4,headers:$});function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(T.a)(F.a.mark((function e(t){var a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,_.get(t).then((function(e){return console.log(e),(a=e.data.data).map((function(e){return e.editable=!1,e.checked=!1,null})),a})).catch((function(e){console.error(e)}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(T.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.put(t,a).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(T.a)(F.a.mark((function e(t,a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=J+t,e.next=3,_.delete(t,{params:a}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(T.a)(F.a.mark((function e(t,a){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a,_.post(t,n).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(T.a)(F.a.mark((function e(t){var a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,_.get(t,"").then((function(e){return console.log(e),(a=e.data.data).editable=!1,a})).catch((function(e){console.error(e)}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(T.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(J+"/auth",t).then((function(e){return V(e.data.data.accessToken),console.log("successfully login, token is "+M()),e.data})).catch((function(e){G.show("Login failed","please contact your admin","error"),console.error(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return se.apply(this,arguments)}function se(){return(se=Object(T.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(J+"/user/accessToken",t).then((function(e){return e.data.data})).catch((function(e){console.error(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={proof:"",password:""},e}return Object(l.a)(a,[{key:"submit",value:function(){var e=this,t=this.state,a=t.proof,n=t.password,r=this.props.saveUserId;(function(e){return ie.apply(this,arguments)})({proof:a,password:n}).then((function(t){console.log("UserId is ".concat(t.data.userId)),r(t.data.userId),setTimeout(e.props.history.replace("/index"),1e3)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.proof,n=t.password;return r.a.createElement(v.a,{onSubmit:this.submit.bind(this)},r.a.createElement(y.a,{stacked:!0},r.a.createElement(v.a.Field,null,r.a.createElement(E.a,{icon:"user",placeholder:"Username or email",type:"text",value:a,onChange:function(t){return e.setState({proof:t.target.value})}})),r.a.createElement(v.a.Field,null,r.a.createElement(E.a,{icon:"lock",placeholder:"Password",type:"password",value:n,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement(g.a,{primary:!0,type:"submit",fluid:!0},"Login")),r.a.createElement(O.a,null,r.a.createElement(j.b,{to:"/forget-pwd"},"Forget password?")," ",r.a.createElement(j.b,{to:"/register",style:{float:"right"}},"Register")))}}]),a}(n.Component);ue.contextTypes={router:N.a.object.isRequired};var me=Object(f.f)(Object(p.b)((function(e,t){return{userId:e.user.userId}}),(function(e,t){return{saveUserId:Object(k.a)(S,e)}}))(ue)),de=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,{container:!0,centered:!0,textAlign:"center",style:{marginTop:"10%"},verticalAlign:"middle"},r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Column,{width:8},r.a.createElement(b.a,{as:"h1",textAlign:"center"},"Login in"),r.a.createElement(me,null))," "))}}]),a}(n.Component);de.contextTypes={router:N.a.object.isRequired};var pe=Object(p.b)((function(e,t){return{}}),(function(e,t){return{}}))(de),fe=(a(514),a(28)),he=a(154),be=a(45),ve=function(e){return{required:!0,message:e+" is required"}},ye=function(e,t,a){return{min:e,max:t,message:a+": maximum length is "+t+" and  minimum is "+e}},Ee={string:"string",number:"number",boolean:"boolean",method:"function",regexp:"regexp",integer:"integer",float:"float",array:"array",object:"object",enum:"enum",date:"date",url:"url",email:"email"},ge=function(e){return{type:e,message:"require "+e}},Oe=function(e,t){return e="http://localhost:8090/api"+e,{asyncValidator:function(){var a=Object(T.a)(F.a.mark((function a(n,r){var c;return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={params:Object(be.a)({},t,r)},0,a.abrupt("return",new Promise((function(a,n){d.a.get(e,c).then((function(e){console.log(e),200!==e.data.code?n(t+" is duplicate"):a()})).catch((function(e){n(t+" is duplicate"),console.error(e)}))})));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}},je=a(1654),ke=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isStudent:0,username:"",password:"",email:"",rePassword:"",errorInfo:{header:"",show:!1,contentList:[]}},e.submit=function(){var t=e.props,a=t.descriptor,n=t.history,r=e.state,c=r.email,o=r.password,i=r.username,l=r.rePassword,s=r.isStudent,u=r.errorInfo;u.contentList=[];var m=new he.a(a),d={username:i,email:c,password:o,rePassword:l,isStudent:s};m.validate(d).then(function(){var t=Object(T.a)(F.a.mark((function t(a){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o!==l){t.next=8;break}return t.next=3,ne("/user",d);case 3:G.show("Sign up","Successfully!"),setTimeout(n.push("/index"),1e3),u.show=!1,t.next=10;break;case 8:u.contentList.push("passwords are not same"),u.show=!0;case 10:e.setState({errorInfo:u});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var a=t.errors;t.fields;u.header="Error";var n,r=Object(fe.a)(a);try{for(r.s();!(n=r.n()).done;){var c=n.value;u.contentList.push(c.message)}}catch(o){r.e(o)}finally{r.f()}u.show=!0,e.setState({errorInfo:u})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.isStudent,n=t.errorInfo;return r.a.createElement(h.a,{centered:!0},r.a.createElement(h.a.Column,{width:8},r.a.createElement(v.a,{onSubmit:this.submit},r.a.createElement(y.a,null,r.a.createElement(v.a.Field,{control:E.a,icon:"user",placeholder:"Username",type:"text",onChange:function(t){return e.setState({username:t.target.value})},value:this.props.username}),r.a.createElement(v.a.Field,{control:E.a,icon:"mail",placeholder:"Email",type:"text",onChange:function(t){return e.setState({email:t.target.value})},value:this.props.email}),r.a.createElement(v.a.Field,{control:E.a,icon:"lock",placeholder:"Enter password",type:"password",onChange:function(t){return e.setState({password:t.target.value})},value:this.props.password}),r.a.createElement(v.a.Field,{control:E.a,placeholder:"Enter password again",type:"password",icon:"lock",onChange:function(t){return e.setState({rePassword:t.target.value})}}),r.a.createElement(v.a.Field,{control:je.a,toggle:!0,label:"Are you a student?",onClick:function(){e.setState({isStudent:!a})}}),a?r.a.createElement(v.a.Input,{placeholder:"Enter your student ID"}):"",n.show?r.a.createElement(xe,{errorInfo:n}):"",r.a.createElement(v.a.Button,{primary:!0,type:"submit",className:"btn",fluid:!0},"Sign up")),r.a.createElement(O.a,null,r.a.createElement(j.b,null,"Forget password?")))))}}]),a}(n.Component);ke.defaultProps={descriptor:{username:[ve("Username"),ye(3,10,"Username"),ge(Ee.string),Oe("/user/username-duplication","username")],password:[ve("password"),ye(3,10)],email:[ve("Email"),ge(Ee.email)]}};var we=Object(p.b)((function(e,t){return{}}),(function(e,t){return{}}))(ke),Ce=Object(f.f)(we),xe=function(e){var t=e.errorInfo,a=(t.show,t.header),n=t.contentList;return r.a.createElement(O.a,{header:a,list:n})},Ie=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=document.body.clientHeight;return r.a.createElement(h.a,{verticalAlign:"middle",className:"my_container"},r.a.createElement(h.a.Row,{style:{height:e+"px"}},r.a.createElement(h.a.Column,{width:8},r.a.createElement(O.a,null,"Enjoy Movie")," "),r.a.createElement(h.a.Column,{width:8},r.a.createElement(Ce,null))))}}]),a}(n.Component),Se=Object(p.b)()(Ie),Pe=a(1662),Ke=a(69),Ne=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={activeItem:""},e}return Object(l.a)(a,[{key:"render",value:function(){window.sessionStorage;var e=this.state.activeItem;return r.a.createElement(h.a,null,r.a.createElement(h.a.Row,{columns:1,verticalAlign:"middle"},r.a.createElement(h.a.Column,{width:16},r.a.createElement(Pe.a,null,r.a.createElement(j.c,{to:"/index"},r.a.createElement(Pe.a.Item,{icon:"home",name:"Index",active:"index"===e,onClick:this.handleItemClick},r.a.createElement(Ke.a,{name:"home"}),"Index")),r.a.createElement(j.c,{to:"/cinema"},r.a.createElement(Pe.a.Item,{name:"Cinema",active:"cinema"===e,onClick:this.handleItemClick},r.a.createElement(Ke.a,{name:"video"}),"Cinema")),r.a.createElement(j.c,{to:"/film"},r.a.createElement(Pe.a.Item,{name:"films",active:"films"===e,onClick:this.handleItemClick},r.a.createElement(Ke.a,{name:"film"}),"Films")),r.a.createElement(Pe.a.Menu,{position:"right"},r.a.createElement(j.c,{to:"/profile"}," ",r.a.createElement(Pe.a.Item,{name:"profile",active:"profile"===e,onClick:this.handleItemClick},r.a.createElement(Ke.a,{name:"user"}))),r.a.createElement(Pe.a.Item,null,r.a.createElement(E.a,{type:"text",icon:"search",placeholder:"Search Films..."})))))))}}]),a}(n.Component),De=a(147),Fe=a(1660),Te=a(337),Ae=a(1668);function Re(e,t){var a="https://picsum.photos/";return void 0===e&&void 0===t?a+"480/320":void 0!==e&&void 0===t?a+e:a+e+"/"+t}var Me=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={filmList:[]},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=[];Q("/film").then((function(a){t=a,e.setState({filmList:t})})),console.log(t)}},{key:"render",value:function(){var e=this.state.filmList,t=[];return void 0===e&&(e=[]),e.map((function(e,a){return t.push(r.a.createElement(h.a.Column,{textAlign:"center"},r.a.createElement(Ve,{key:a,filmData:e}))),null})),r.a.createElement(h.a,{container:!0,columns:4,celled:!0},r.a.createElement(h.a.Row,null,t))}}]),a}(n.Component),Ve=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n.handleOnRate=n.handleOnRate.bind(Object(De.a)(n)),n}return Object(l.a)(a,[{key:"handleOnRate",value:function(e,t){t.rating,t.maxRating}},{key:"render",value:function(){var e=this.props.filmData;return r.a.createElement(Fe.a,{size:"large",centered:!0,style:{width:"115px"}},r.a.createElement(j.b,{to:"/film/"+e.filmId},r.a.createElement(Te.a,{size:"big",style:{width:"115px",height:"163px"},src:Re(115,163)}),r.a.createElement(Fe.a.Content,null,e.name)),r.a.createElement(Ae.a,{defaultRating:3,onRate:this.handleOnRate,maxRating:5,icon:"star outline"})," ")}}]),a}(n.Component),ze=a(1659),Le=a(13),He=(a(39),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={list:[],cols:[],sessionList:[]},e.handleBook=function(t){var a=e.props.history;setTimeout(a.push("/session/"+t),500)},e.createAdminCols=function(){var t=e.props,a=(t.url,t.dataToLabel),n=t.idName,c=[];Object.keys(a).forEach((function(e){c.push(r.a.createElement(Le.b,{width:100,align:"center",flexGrow:!0},r.a.createElement(Le.c,null,a[e]),r.a.createElement(Le.a,{dataKey:e,idName:n})))})),c.push(r.a.createElement(Le.b,{width:100,align:"center",flexGrow:!0},r.a.createElement(Le.c,null,"Action"),r.a.createElement(Le.a,{dataKey:n,idName:n},(function(t){return r.a.createElement(g.a,{content:"Book",onClick:function(){e.handleBook(t[n])}})})))),e.setState({cols:c})},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){console.log(e.sessionList),this.createAdminCols()}},{key:"render",value:function(){var e,t=this.props.sessionList,a=Object.assign([],t),n=Object(fe.a)(a);try{for(n.s();!(e=n.n()).done;){var c=e.value;console.log(c),c.cinemaName=c.cinema.name,c.filmName=c.film.name,c.roomName=c.room.roomName}}catch(i){n.e(i)}finally{n.f()}var o=this.state.cols;return r.a.createElement(Le.d,{data:t,autoHeight:!0,bordered:!0,defaultExpandAllRows:!0},o)}}]),a}(n.Component));He.defaultProps={url:"/session",idName:"sessionId",dataToLabel:{sessionId:"ID",cinemaName:"Cinema",time:"Time",remainingSeats:"Remaining Seats",filmName:"Film",roomName:"Room",status:"Status"},listName:"list"};var Ue=Object(f.f)(He),Be=a(534),We=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={filmData:{},name:"",duration:0,actors:"",director:"",rating:0,type:"",poster:"",introduction:"",status:"",sessionList:[]},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;console.log(t),ce("/film/"+t).then((function(t){e.setState({filmData:t})}))}},{key:"render",value:function(){var e=this.state.filmData,t=[],a=e.sessionList;if(0!==e.duration&&void 0!==e.duration&&null!==e.duration||(e.duration=Be.random.number()),null===e.actors){e.actors="";for(var n=0;n<5;n++)e.actors+=Be.name.findName()+", ";e.actors+=Be.name.findName()+""}null!==e.type&&void 0!==e.type||(e.type=Be.hacker.noun()),null!==e.introduction&&void 0!==e.introduction||(e.introduction=Be.lorem.paragraph());return t.push(r.a.createElement(ze.a,{celled:!0,relaxed:!0,size:"large"},r.a.createElement(ze.a.Item,null,r.a.createElement(Te.a,{src:Re(500)})),r.a.createElement(ze.a.Item,{header:"Film Name:",content:e.name}),r.a.createElement(ze.a.Item,{header:"Duration:",content:e.duration+" min"}),r.a.createElement(ze.a.Item,{header:"Actors:",content:e.actors}),r.a.createElement(ze.a.Item,{header:"Type:",content:e.type}),r.a.createElement(ze.a.Item,{header:"rating:",content:e.rating}),r.a.createElement(ze.a.Item,{header:"introduction:",content:e.introduction}),r.a.createElement(ze.a.Item,{header:"status:",content:e.status}))),r.a.createElement(h.a,{centered:!0},r.a.createElement(h.a.Row,{textAlign:"left",columns:2},r.a.createElement(h.a.Column,{width:8},t)),r.a.createElement(h.a.Row,{textAlign:"left",columns:2},r.a.createElement(h.a.Column,{width:15}," ",r.a.createElement(Ue,{sessionList:a})," ")))}}]),a}(n.Component),Ye=a(1656),qe={color:"#5f6368",fontFamily:"Roboto,Arial,sans-serif",fontSize:"11px"},Ge={color:"#202124",fontFamily:"Roboto,Arial,sans-serif",fontSize:"16px"},Je=function(e){var t=e.meta,a=e.info,n=e.editable,c=e.dataKey,o=e.onEditChange;e.onEditClick;return r.a.createElement(y.a,{size:"large"},r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Row,{verticalAlign:"middle"},r.a.createElement(h.a.Column,{style:qe},t),r.a.createElement(h.a.Column,{style:Ge,textAlign:"center"},!0===n?r.a.createElement(E.a,{defaultValue:a,onChange:function(e){o(c,e.target.value)}}):a),r.a.createElement(h.a.Column,{textAlign:"right"}))))},$e={color:"#5f6368",fontFamily:"Roboto,Arial,sans-serif",fontSize:"11px"},_e={color:"#202124",fontFamily:"Roboto,Arial,sans-serif",fontSize:"16px"},Qe=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={user:{},checked:!1,confirmOpened:!1},e.onEditChange=function(t,a){var n=e.state,r=n.user;n.checked;r[t]=a,e.setState({user:r})},e.handleCheckBox=function(t){var a=e.state,n=a.user,r=a.checked;e.setState({checked:!r}),n.isStudent=!r,Z("/user",n)},e.onEditClick=function(t){var a=e.state,n=a.user;a.checked;!0===n.editable&&Z("/user",n),n.editable=!n.editable,console.log(n.editable),e.setState({user:n})},e.handleLogout=function(){var t=e.props,a=t.history,n=t.clearUserId;L(),n(),a.push("/index")},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=Object(T.a)(F.a.mark((function e(){var t,a,n=this;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.user,a=-1,e.next=4,U().then((function(e){a=e.userId}));case 4:ce("/user/"+a).then((function(e){t=e,n.setState({user:t}),1===t.isStudent&&n.setState({checked:!0})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUpdate",value:function(){}},{key:"render",value:function(){for(var e=this,t=[],a=this.state,n=a.user,c=a.checked,o=a.confirmOpened,i=this.props.dataNameToMeta,l=n.editable,s=0,u=Object.keys(i);s<u.length;s++){var m=u[s],d=i[m],p=n[m];"isStudent"!==m?t.push(r.a.createElement(Je,{meta:d,info:p,dataKey:m,onEditChange:this.onEditChange,editable:l,onEditClick:this.onEditClick})):t.push(r.a.createElement(y.a,{size:"large"},r.a.createElement(h.a,{columns:2},r.a.createElement(h.a.Row,{verticalAlign:"middle"},r.a.createElement(h.a.Column,{style:$e},d),r.a.createElement(h.a.Column,{style:_e,textAlign:"center"},r.a.createElement(je.a,{checked:c,onChange:this.handleCheckBox}))))))}return r.a.createElement(h.a,null,r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(h.a.Column,{width:12},r.a.createElement(y.a.Group,{content:""},t),r.a.createElement(g.a,{floated:"left",color:"green",size:"large",content:l?"Save":"Edit",onClick:this.onEditClick}),r.a.createElement(g.a,{floated:"right",negative:!0,size:"large",content:"Log out",onClick:function(t){e.setState({confirmOpened:!0})}}),r.a.createElement(Ye.a,{open:o,onCancel:function(t){e.setState({confirmOpened:!1})},onConfirm:function(t){e.handleLogout(),e.setState({confirmOpened:!1})}}))))}}]),a}(n.Component);Qe.defaultProps={dataNameToMeta:{username:"Username",password:"Password",email:"Email",tel:"Phone",isStudent:"Is a student"}};var Xe=Object(p.b)((function(e,t){return{userId:e.user.userId}}),(function(e,t){return{clearUserId:Object(k.a)(P,e)}}))(Qe);a(1581);function Ze(e){var t,a="YYYY-mm-dd HH:MM",n={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var r in n)(t=new RegExp("("+r+")").exec(a))&&(a=a.replace(t[1],1==t[1].length?n[r]:n[r].padStart(t[1].length,"0")));return a}var et=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={segments:[],film:{},cinema:{},room:{}},e.handleBook=Object(T.a)(F.a.mark((function t(){var a,n,r,c,o,i;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.history,n=e.state.data,r=e.props.match.params.id,c=Ze(c=new Date),o=-1,t.next=8,U().then((function(e){o=e.userId,console.log("===================================="),console.log(e),console.log("====================================")}));case 8:return i={userId:o,sessionId:r,orderTime:c,payTime:c,status:"has paid",fee:n.price},t.next=11,ne("/order",i).then((function(e){G.show("Order","the order is creating"),a.push("/profile")}));case 11:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this;ce("/session/"+this.props.match.params.id).then((function(t){var a=t.film,n=t.cinema,r=t.room;t.filmName=a.name,t.cinemaName=n.name,t.roomName=r.roomName,e.setState({data:t,film:a,cinema:n,room:r})}))}},{key:"render",value:function(){var e=[],t=this.state.data;t=Object.assign({},t);var a=this.props,n=a.dataToLabel;a.history;return n=Object.assign({},n),Object.keys(n).forEach((function(a){e.push(r.a.createElement(Je,{meta:n[a],info:t[a],editable:!1}))})),r.a.createElement(h.a,null,r.a.createElement(h.a.Row,{centered:!0},r.a.createElement(h.a.Column,{width:12},r.a.createElement(b.a,{size:"huge"},"Session Detail"),r.a.createElement(y.a.Group,null,e),r.a.createElement(g.a,{floated:"right",basic:!0,size:"massive",content:"Book!",onClick:this.handleBook}))))}}]),a}(n.Component);et.defaultProps={dataToLabel:{filmName:"Film",time:"Time",status:"Status",remainingSeats:"Remaining seats",cinemaName:"Cinema",roomName:"Room",price:"Price"}};var tt=Object(p.b)((function(e,t){return{userId:e.user.userId}}),(function(e,t){return{}}))(et),at=a(42);function nt(e){H()||setTimeout((function(){e.replace("/login")}),1e3)}var rt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentWillMount",value:function(){nt(this.props.history)}},{key:"componentWillUpdate",value:function(){nt(this.props.history)}},{key:"render",value:function(){var e=this.props,t=e.component,a=Object(at.a)(e,["component"]);return H()?r.a.createElement(f.a,Object.assign({},a,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(O.a,{error:!0,size:"massive"},"Please Login...")}}]),a}(n.Component),ct=Object(f.f)(rt),ot=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Column,null,r.a.createElement(Ne,null))),r.a.createElement(h.a.Row,null,r.a.createElement(h.a.Column,{width:16},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/register",component:Se}),r.a.createElement(ct,{exact:!0,path:"/profile",component:Xe}),r.a.createElement(f.a,{exact:!0,path:"/login",component:pe}),r.a.createElement(ct,{exact:!0,path:"/film/:id",component:We}),r.a.createElement(ct,{exact:!0,path:"/session/:id",component:tt}),r.a.createElement(ct,{path:"/index",component:Me}),r.a.createElement(ct,{path:"/",component:Me})))))}}]),a}(n.Component);n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it=a(332);a.n(it).a.mock("/data",{"list|8":[{name:"@city","number|1-100":100}]});n.Component;var lt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.author,n=e.date;return r.a.createElement("div",null,r.a.createElement("div",null,t),r.a.createElement("div",null,"\u521b\u5efa\u4eba\uff1a",r.a.createElement("span",null,a)),r.a.createElement("div",null,"\u521b\u5efa\u65f6\u95f4\uff1a",r.a.createElement("span",null,n)))}}]),a}(n.Component),st=Object(k.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(w.a)({},e,{userId:t.data});case I:return Object(w.a)({},e,{userId:-1});default:return e}}}),ut=a(1666),mt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.visible;return r.a.createElement(ut.a,{as:Pe.a,width:"thin",animation:"push",direction:"left",vertical:!0,icon:"labeled",visible:e},r.a.createElement(j.c,{to:"/admin/user-manage"},r.a.createElement(Pe.a.Item,{icon:"users",name:"User Manage"})),r.a.createElement(j.c,{to:"/admin/admin-manage"},r.a.createElement(Pe.a.Item,{icon:"user md",name:"Admin Manage"})),r.a.createElement(j.c,{to:"/admin/order-manage"},r.a.createElement(Pe.a.Item,{icon:"server",name:"Order Manage"})),r.a.createElement(j.c,{to:"/admin/session-manage"},r.a.createElement(Pe.a.Item,{icon:"compose",name:"Session Manage"})),r.a.createElement(j.c,{to:"/admin/film-manage"},r.a.createElement(Pe.a.Item,{icon:"film",name:"Film Manage"})),r.a.createElement(j.c,{to:"/admin/cinema-manage"},r.a.createElement(Pe.a.Item,{icon:"home",name:"Cinema Manage"})),r.a.createElement(j.c,{to:"/admin/comment-manage"},r.a.createElement(Pe.a.Item,{icon:"comments",name:"Comment Manage"})))}}]),a}(n.Component),dt=a(50),pt=function(e){var t=e.formProps,a=(Object(at.a)(e,["formProps"]),t.getErrorProp),n=t.fieldValidate,c=t.updateFormMsg,o=t.updateField,i=t.state,l=t.setState,s=t.title,u=t.initVal,m=t.placeholder,d=t.dataKey,p=t.descriptors,f=v.a.Field,h=Object(be.a)({},d,p[d]);return r.a.createElement(f,{control:E.a,label:s,placeholder:m,value:u||"",onChange:function(e){o(e,i,l)},name:d,error:a(d,i),onBlur:function(){var e=Object(T.a)(F.a.mark((function e(t){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(h,i);case 2:a=e.sent,c(a,i,l);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})},ft="/user",ht="/cinema",bt="/film",vt="/order",yt="/type",Et=function(e){var t=e.formProps,a=t.dispatch,n=t.updateFormMsg,c=t.fieldValidate,o=t.canDispatch,i=t.createStateFromDataProps,l=t.clearInputVal,s=t.formFields,u=t.header,m=t.dataProps,d=t.type,p=t.state,f=t.setState,h=t.descriptors,E=t.api;return r.a.createElement(y.a,{stacked:!0,size:"huge"},r.a.createElement(b.a,null,u),r.a.createElement(v.a,null,r.a.createElement(g.a,{floated:"right",color:"red",size:"mini",icon:"undo",onClick:function(){var e=i(!1,m),t=l(e,p);f(Object(w.a)({},t))},content:"Clear All"}),s,r.a.createElement(g.a,{positive:!0,icon:"checkmark",type:"submit",labelPosition:"right",onClick:function(){var e=Object(T.a)(F.a.mark((function e(t){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(h,p);case 2:r=e.sent,n(r,p,f),o(r)&&a(d,p,E);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),content:"OK"})))},gt="/admin",Ot=function(e){var t=e.rowData,a=e.type,c=e.formProps,o={update:"Edit an admin",create:"Add an admin"};o=o[a];var i={username:{descriptor:{username:[ve("username")]},dataKey:"username",title:"Username",placeholder:"Please enter username"},password:{descriptor:{password:[ve("password")]},dataKey:"password",title:"Password",placeholder:"Please enter password"}},l=c,s=(l.dispatch,l.updateFormMsg,l.fieldValidate,l.canDispatch,l.getDescriptors),u=l.createStateFromDataProps,m=(l.clearInputVal,Object(n.useState)((function(){var e=void 0!==t,a=u(e,i,t);return Object(w.a)({},a,{cinemaId:e?t.adminId:"",errMsg:{}})}))),d=Object(dt.a)(m,2),p=d[0],f=d[1],h=s(i);c=Object(w.a)({},c,{state:p,setState:f,descriptors:h,header:o,dataProps:i,type:a,api:gt});v.a.Field;var b=function(){var e=[],t=0;return e.push(function(e){var t=Object(w.a)({},i.username,{initVal:p.username});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(t++)),e.push(function(e){var t=Object(w.a)({},i.password,{initVal:p.password});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(t++)),e}();return c=Object(w.a)({},c,{formFields:b}),r.a.createElement(Et,{formProps:c})},jt={dispatch:function(){var e=Object(T.a)(F.a.mark((function e(t,a,n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="update"===e.t0?3:"create"===e.t0?6:9;break;case 3:return e.next=5,Z(n,a);case 5:return e.abrupt("break",10);case 6:return e.next=8,ne(n,a);case 8:case 9:return e.abrupt("break",10);case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),fieldValidate:function(){var e=Object(T.a)(F.a.mark((function e(t,a){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new he.a(t),e.abrupt("return",n.validate(a).then((function(){for(var e=[],a=0,n=Object.keys(t);a<n.length;a++){var r=n[a];e.push({field:r,message:null})}return e})).catch((function(e){var t=e.errors;e.fields;return t})));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateField:function(e,t,a){a(Object(w.a)({},t,Object(be.a)({},e.target.name,e.target.value)))},getErrorProp:function(e,t){return t.errMsg[e]},updateFormMsg:function(e,t,a){var n,r=null===t.errMsg?{}:t.errMsg,c=Object(fe.a)(e);try{for(c.s();!(n=c.n()).done;){var o=n.value;r[o.field]=o.message}}catch(i){c.e(i)}finally{c.f()}a(Object(w.a)({},t,{errMsg:r}))},canDispatch:function(e){var t,a=Object(fe.a)(e);try{for(a.s();!(t=a.n()).done;){if(null!==t.value.message)return!1}}catch(n){a.e(n)}finally{a.f()}return!0},getDescriptors:function(e){for(var t={},a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];void 0!==e[r].descriptor&&Object.assign(t,e[r].descriptor)}return t},createStateFromDataProps:function(e,t,a){for(var n={},r=0,c=Object.keys(t);r<c.length;r++){var o=c[r];Object.assign(n,Object(be.a)({},o,e?a[o]:""))}return n},clearInputVal:function(e,t){var a=t;return a=Object.assign(a,e)}},kt=function(e){var t=e.rowData,a=e.dataKey,n=e.onClick,c=e.idName,o=Object(at.a)(e,["rowData","dataKey","onClick","idName"]),i=t[a];return r.a.createElement(Le.a,o,r.a.createElement(je.a,{checked:i,onClick:function(e,a){n(a,t[c])}}))},wt=function(e){var t=e.rowData,a=e.dataKey,n=e.onClick,c=Object(at.a)(e,["rowData","dataKey","onClick"]);return r.a.createElement(Le.a,Object.assign({},c,{style:{padding:"6px 0"}}),r.a.createElement(g.a,{appearance:"link",onClick:function(){n(a,t[a])}},"Delete"))},Ct=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={list:[],checkedAll:!1,rowHeight:50},e.updateTable=Object(T.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Q(e.props.url).then((function(t){e.setState({list:t})}));case 2:case"end":return t.stop()}}),t)}))),e.handleChange=function(t,a,n){var r,c=e.state.list,o=e.props.idName,i=Object(fe.a)(c);try{for(i.s();!(r=i.n()).done;){var l=r.value;if(l[o]===t){l[a]=n;break}}}catch(s){i.e(s)}finally{i.f()}e.setState({list:c})},e.handleDelete=function(t,a){te(e.props.url,Object(be.a)({},t,a)).then((function(t){e.updateTable()}))},e.handleCheck=function(t,a){var n,r=e.state.list,c=e.props.idName,o=Object(fe.a)(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i[c]===a){!0===i.checked?i.checked=!1:i.checked=!0;break}}}catch(l){o.e(l)}finally{o.f()}e.setState({list:r})},e.handleDeleteSelected=Object(T.a)(F.a.mark((function t(){var a,n,r,c,o,i,l,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.url,r=a.idName,c=e.state.list,o=Object(fe.a)(c),t.prev=3,o.s();case 5:if((i=o.n()).done){t.next=13;break}if(!0!==(l=i.value).checked){t.next=11;break}return s=Object(be.a)({},r,l[r]),t.next=11,te(n,s);case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),o.e(t.t0);case 18:return t.prev=18,o.f(),t.finish(18);case 21:e.updateTable();case 22:case"end":return t.stop()}}),t,null,[[3,15,18,21]])}))),e.handleRefresh=function(){e.updateTable()},e.dispatch=function(){var t=Object(T.a)(F.a.mark((function t(a,n,r){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a,t.next="update"===t.t0?3:"create"===t.t0?6:9;break;case 3:return t.next=5,Z(r,n);case 5:return t.abrupt("break",10);case 6:return t.next=8,ne(r,n);case 8:case 9:return t.abrupt("break",10);case 10:e.updateTable();case 11:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateTable()}},{key:"render",value:function(){var e=this.state,t=e.list,a=(e.checkedAll,e.rowHeight),n=this.props,c=n.idName,o=n.tableTitle,i=n.tableColumns,l=n.getFormElement,s=Object(w.a)({},jt,{dispatch:this.dispatch});return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(b.a,{textAlign:"center",as:"h2"},o)),r.a.createElement(Pe.a,null,r.a.createElement(Pe.a.Item,null,r.a.createElement(W.a,{trigger:r.a.createElement(g.a,null,"Add"),closeIcon:!0,closeOnDimmerClick:!1},l("create",s))),r.a.createElement(Pe.a.Item,{icon:"minus",as:g.a,name:"Delete Selected",onClick:this.handleDeleteSelected}),r.a.createElement(Pe.a.Item,{icon:"redo",as:g.a,name:"",onClick:this.handleRefresh})),r.a.createElement(Le.d,{data:t,autoHeight:!0,virtualized:!0,bordered:!0,defaultExpandAllRows:!0,rowHeight:a},r.a.createElement(Le.b,{width:50,align:"center",fixed:!0},r.a.createElement(Le.c,null),r.a.createElement(kt,{dataKey:"checked",idName:c,onClick:this.handleCheck})),i,r.a.createElement(Le.b,{width:100,sort:"true",resizable:!0,align:"center"},r.a.createElement(Le.c,null,"Edit"),r.a.createElement(Le.a,null,(function(e,t){return r.a.createElement(W.a,{trigger:r.a.createElement(g.a,null,"Edit"),closeIcon:!0,closeOnDimmerClick:!1},l("update",s,e))}))),r.a.createElement(Le.b,{width:100,sort:"true",resizable:!0,align:"center"},r.a.createElement(Le.c,null,"Delete"),r.a.createElement(wt,{dataKey:c,onClick:this.handleDelete}))))}}]),a}(n.Component);Ct.defaultProps={};var xt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={columns:[]},e.createAdminCols=Object(T.a)(F.a.mark((function t(){var a,n,c,o,i,l;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.tableHeaders,n=[],c=0,o=Object(fe.a)(a);try{for(o.s();!(i=o.n()).done;)l=i.value,n.push(r.a.createElement(Le.b,{key:c++,width:200,resizable:!0,align:"center"},r.a.createElement(Le.c,null,l.title),r.a.createElement(Le.a,{dataKey:l.dataKey})))}catch(s){o.e(s)}finally{o.f()}e.setState({columns:n});case 6:case"end":return t.stop()}}),t)}))),e.getFormElement=function(e,t,a){return r.a.createElement(Ot,{rowData:a,type:e,formProps:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.createAdminCols()}},{key:"render",value:function(){var e=this.state.columns;return console.log(e),r.a.createElement(Ct,Object.assign({},this.props,{tableColumns:e,getFormElement:this.getFormElement}))}}]),a}(n.Component);xt.defaultProps={tableHeaders:[{title:"ID",dataKey:"adminId"},{title:"Username",dataKey:"username"},{title:"Password",dataKey:"password"}],url:"/admin",idName:"adminId",tableTitle:"Admin Manage"};var It=xt,St=a(1658),Pt=bt,Kt=function(e){var t=e.rowData,a=e.type,c=e.formProps,o=e.typeOptions,i=v.a.Field,l=c,s=l.getDescriptors,u=l.createStateFromDataProps,m={update:"Edit a film",create:"Add a film"},d={type:{descriptor:{},dataKey:"type",title:"Type",placeholder:"Please enter a film name"},name:{descriptor:{name:[ve("name")]},dataKey:"name",title:"Film",placeholder:"Please enter a film name"},director:{descriptor:{director:[ve("director")]},dataKey:"director",title:"Director",placeholder:"Please enter a director name"},introduction:{descriptor:{introduction:[ve("introduction")]},dataKey:"introduction",title:"Introduction",placeholder:"Please enter introduction"},poster:{descriptor:{poster:[ve("poster")]},dataKey:"poster",title:"Poster",placeholder:"Please select a poster"},duration:{descriptor:{duration:[ve("duration")]},dataKey:"duration",title:"Duration",placeholder:"Please enter duration"},actors:{descriptor:{actors:[ve("actors")]},dataKey:"actors",title:"Actors",placeholder:"Please enter actors"},status:{descriptor:{status:[ve("status")]},dataKey:"status",title:"Status",placeholder:"Please enter the status"}},p=Object(n.useState)((function(){var e=void 0!==t,a=u(e,d,t);return Object(w.a)({},a,{filmId:e?t.filmId:"",errMsg:{}})})),f=Object(dt.a)(p,2),h=f[0],b=f[1],y=s(d);m=m[a],c=Object(w.a)({},c,{state:h,setState:b,descriptors:y,header:m,dataProps:d,type:a,api:Pt});var E=function(){var e=0,t=[];return t.push(function(e){var t=Object(w.a)({},d.name,{initVal:h.name});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},d.actors,{initVal:h.actors});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},d.director,{initVal:h.director});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},d.introduction,{initVal:h.introduction});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},d.poster,{initVal:h.poster});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},d.status,{initVal:h.status});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){for(var t=d.type,a=t.dataKey,n=t.title,c=t.placeholder,l=h.typeId,s=0,u=0;u<o.length;u++)if(o[u].key===l){s=u;break}return r.a.createElement(i,{key:e,control:St.a,label:n,options:o,onChange:function(e,t){b(Object(w.a)({},h,{typeId:t.value}))},placeholder:c,name:a,defaultValue:o[s].value,selection:!0})}(e++)),t.push(function(e){var t=Object(w.a)({},d.duration,{initVal:h.duration});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t}();return c=Object(w.a)({},c,{formFields:E}),r.a.createElement(Et,{formProps:c})},Nt=yt,Dt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={columns:[],typeOptions:[]},e.getTypeOptions=function(){var t=[];Q(Nt).then((function(a){var n,r=Object(fe.a)(a);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.push({key:c.typeId,value:c.typeId,text:c.type})}}catch(o){r.e(o)}finally{r.f()}e.setState({typeOptions:t})}))},e.createFilmCols=Object(T.a)(F.a.mark((function t(){var a,n,c,o,i,l;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.tableHeaders,n=[],c=0,o=Object(fe.a)(a);try{for(o.s();!(i=o.n()).done;)l=i.value,n.push(r.a.createElement(Le.b,{key:c++,width:100,resizable:!0,align:"center"},r.a.createElement(Le.c,null,l.title),r.a.createElement(Le.a,{dataKey:l.dataKey})))}catch(s){o.e(s)}finally{o.f()}e.setState({columns:n});case 5:case"end":return t.stop()}}),t)}))),e.getFormElement=function(t,a,n){var c=e.state.typeOptions;return r.a.createElement(Kt,{rowData:n,type:t,formProps:a,typeOptions:c})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.createFilmCols(),this.getTypeOptions()}},{key:"render",value:function(){var e=this.state.columns;return r.a.createElement(Ct,Object.assign({},this.props,{tableColumns:e,getFormElement:this.getFormElement}))}}]),a}(n.Component);Dt.defaultProps={tableHeaders:[{title:"ID",dataKey:"filmId"},{title:"Type",dataKey:"type"},{title:"Name",dataKey:"name"},{title:"Director",dataKey:"director"},{title:"Introduction",dataKey:"introduction"},{title:"Poster",dataKey:"poster"},{title:"Status",dataKey:"status"},{title:"Actors",dataKey:"actors"},{title:"Rating",dataKey:"rating"}],url:"/film",idName:"filmId",tableTitle:"Film Manage"};var Ft=Dt,Tt=vt,At=function(e){var t=e.rowData,a=e.type,c=e.formProps,o=(v.a.Field,c),i=(o.dispatch,o.updateFormMsg,o.fieldValidate,o.canDispatch,o.getDescriptors),l=o.createStateFromDataProps,s={update:"Edit an order",create:"Add an order"};s=s[a];var u={orderTime:{descriptor:{orderTime:[ve("orderTime")]},dataKey:"orderTime",title:"Order time",placeholder:"Please enter order time"},payTime:{descriptor:{payTime:[ve("payment time")]},dataKey:"payTime",title:"Payment time",placeholder:"Please enter the payment time"},status:{descriptor:{status:[ve("status")]},dataKey:"status",title:"Status",placeholder:"Please enter the order status"},fee:{descriptor:{tefeel:[ve("fee")]},dataKey:"fee",title:"Fee",placeholder:"Please enter the fee"}},m=Object(n.useState)((function(){var e=void 0!==t,a=l(e,u,t);return Object(w.a)({},a,{userId:e?t.orderId:"",errMsg:{}})})),d=Object(dt.a)(m,2),p=d[0],f=d[1],h=i(u);c=Object(w.a)({},c,{state:p,setState:f,descriptors:h,header:s,dataProps:u,type:a,api:Tt});var b=function(){var e=0,t=[];return t.push(function(e){var t=Object(w.a)({},u.orderTime,{initVal:p.orderTime});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},u.payTime,{initVal:p.payTime});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},u.status,{initVal:p.status});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},u.fee,{initVal:p.fee});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t}();return c=Object(w.a)({},c,{formFields:b}),r.a.createElement(Et,{formProps:c})},Rt="orderId",Mt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={columns:[],data:{},expandedRowKeys:[]},e.updateTable=Object(T.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Q(e.props.url).then((function(t){e.setState({list:t})}));case 2:case"end":return t.stop()}}),t)}))),e.handleChange=function(t,a,n){var r,c=e.state.list,o=e.props.idName,i=Object(fe.a)(c);try{for(i.s();!(r=i.n()).done;){var l=r.value;if(l[o]===t){l[a]=n;break}}}catch(s){i.e(s)}finally{i.f()}e.setState({list:c})},e.handleDelete=function(t,a){te(e.props.url,Object(be.a)({},t,a)).then((function(t){e.updateTable()}))},e.handleCheck=function(t,a){var n,r=e.state.list,c=e.props.idName,o=Object(fe.a)(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i[c]===a){!0===i.checked?i.checked=!1:i.checked=!0;break}}}catch(l){o.e(l)}finally{o.f()}e.setState({list:r})},e.handleDeleteSelected=Object(T.a)(F.a.mark((function t(){var a,n,r,c,o,i,l,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props,n=a.url,r=a.idName,c=e.state.list,o=Object(fe.a)(c),t.prev=3,o.s();case 5:if((i=o.n()).done){t.next=13;break}if(!0!==(l=i.value).checked){t.next=11;break}return s=Object(be.a)({},r,l[r]),t.next=11,te(n,s);case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),o.e(t.t0);case 18:return t.prev=18,o.f(),t.finish(18);case 21:e.updateTable();case 22:case"end":return t.stop()}}),t,null,[[3,15,18,21]])}))),e.handleRefresh=function(){e.updateTable()},e.dispatch=function(){var t=Object(T.a)(F.a.mark((function t(a,n,r){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a,t.next="update"===t.t0?3:"create"===t.t0?6:9;break;case 3:return t.next=5,Z(r,n);case 5:return t.abrupt("break",10);case 6:return t.next=8,ne(r,n);case 8:case 9:return t.abrupt("break",10);case 10:e.updateTable();case 11:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.handleExpanded=function(t,a){var n=e.state.expandedRowKeys,r=!1,c=[];n.forEach((function(e){e===t[Rt]?r=!0:c.push(e)})),r||c.push(t[Rt]),e.setState({expandedRowKeys:c})},e.createFilmCols=Object(T.a)(F.a.mark((function t(){var a,n,c,o,i,l;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.tableHeaders,n=[],c=0,o=Object(fe.a)(a);try{for(o.s();!(i=o.n()).done;)l=i.value,n.push(r.a.createElement(Le.b,{key:c++,width:100,resizable:!0,align:"center"},r.a.createElement(Le.c,null,l.title),r.a.createElement(Le.a,{dataKey:l.dataKey})))}catch(s){o.e(s)}finally{o.f()}e.setState({columns:n});case 5:case"end":return t.stop()}}),t)}))),e.getFormElement=function(e,t,a){return r.a.createElement(At,{rowData:a,type:e,formProps:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.createFilmCols();var t=this.props.url,a={};Q(t).then((function(t){a=t,e.setState({data:a})})),this.updateTable()}},{key:"render",value:function(){var e=this,t=this.props.idName,a=Object(w.a)({},jt,{dispatch:this.dispatch}),n=this.state,c=n.columns,o=n.expandedRowKeys,i=n.data;return r.a.createElement(Le.d,{rowExpandedHeight:600,height:400,data:i,rowKey:Rt,expandedRowKeys:o,onRowClick:function(e){console.log(e)},renderRowExpanded:function(e){var t=e.user,a=(e.session,e.film);e.cinema,e.room;return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(v.a,null,r.a.createElement(b.a,{content:"User Info"})," ",r.a.createElement(v.a.Input,{fluid:!0,label:"Username",value:t.username,readOnly:!0}),r.a.createElement(v.a.Input,{fluid:!0,label:"Email",value:t.email,readOnly:!0}))),r.a.createElement(y.a,null,r.a.createElement(v.a,null,r.a.createElement(b.a,{content:"Film Info"})," ",r.a.createElement(v.a.Input,{fluid:!0,label:"Film",value:a.name,readOnly:!0}),r.a.createElement(v.a.Input,{fluid:!0,label:"Director",value:a.director,readOnly:!0}))))}},r.a.createElement(Le.b,{width:100,align:"center"},r.a.createElement(Le.c,null,"#"),r.a.createElement(Vt,{dataKey:"id",expandedRowKeys:o,onChange:this.handleExpanded})),c,r.a.createElement(Le.b,{width:100,sort:"true",resizable:!0,align:"center"},r.a.createElement(Le.c,null,"Edit"),r.a.createElement(Le.a,null,(function(t,n){return r.a.createElement(W.a,{trigger:r.a.createElement(g.a,null,"Edit"),closeIcon:!0,closeOnDimmerClick:!1},e.getFormElement("update",a,t))}))),r.a.createElement(Le.b,{width:100,sort:"true",resizable:!0,align:"center"},r.a.createElement(Le.c,null,"Delete"),r.a.createElement(wt,{dataKey:t,onClick:this.handleDelete})))}}]),a}(n.Component);Mt.defaultProps={tableHeaders:[{title:"ID",dataKey:"orderId"},{title:"Order Time",dataKey:"orderTime"},{title:"Pay Time",dataKey:"payTime"},{title:"Status",dataKey:"status"},{title:"Fee",dataKey:"fee"}],url:"/order",idName:"orderId",tableTitle:"Order Manage"};var Vt=function(e){var t=e.rowData,a=(e.dataKey,e.expandedRowKeys),n=e.onChange,c=Object(at.a)(e,["rowData","dataKey","expandedRowKeys","onChange"]);return r.a.createElement(Le.a,c,r.a.createElement(g.a,{size:"xs",onClick:function(){n(t)}},a.some((function(e){return e===t[Rt]}))?"-":"+"))},zt=Mt,Lt=a(334),Ht=a.n(Lt),Ut=(a(1582),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={items:[]},e.onDropdownChange=function(){var t=Object(T.a)(F.a.mark((function t(a,n){var r,c,o,i,l,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.props.url,c=e.child.state.list,o=e.props.idName,i=Object(fe.a)(c),t.prev=4,i.s();case 6:if((l=i.n()).done){t.next=16;break}if(s=l.value,a!==s[o]){t.next=14;break}return s[n.dropdownIdName]=n.dropdownItemId,t.next=12,Z(r,s);case 12:return e.child.updateTable(),t.abrupt("break",16);case 14:t.next=6;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),i.e(t.t0);case 21:return t.prev=21,i.f(),t.finish(21);case 24:console.log(c);case 25:case"end":return t.stop()}}),t,null,[[4,18,21,24]])})));return function(e,a){return t.apply(this,arguments)}}(),e.onDatePickerChange=function(){var t=Object(T.a)(F.a.mark((function t(a,n){var r,c,o,i,l,s,u;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.props,c=r.url,o=r.idName,i=e.child.state.list,l=Object(fe.a)(i),t.prev=3,l.s();case 5:if((s=l.n()).done){t.next=15;break}if(u=s.value,n!==u[o]){t.next=13;break}return u.time=a,t.next=11,Z(c,u);case 11:return e.child.updateTable(),t.abrupt("break",15);case 13:t.next=5;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),l.e(t.t0);case 20:return t.prev=20,l.f(),t.finish(20);case 23:console.log(i);case 24:case"end":return t.stop()}}),t,null,[[3,17,20,23]])})));return function(e,a){return t.apply(this,arguments)}}(),e.createSessionCols=Object(T.a)(F.a.mark((function t(){var a,n,c,o,i,l,s,u,m,d,p,f,h,b;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,n=a.url,c=a.listName,o=a.dataToLabel,i=a.idName,l=[],t.next=4,Q(n,c).then((function(e){l=e}));case 4:s=Object(fe.a)(l);try{for(s.s();!(u=s.n()).done;)(m=u.value).cinemaName=m.film.name,m.filmName=m.cinema.name,m.roomName=m.room.roomName}catch(v){s.e(v)}finally{s.f()}console.log("--------"),console.log(l),d=[],0,p=Object.keys(o),f=F.a.mark((function t(){var a,n,c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=b[h],n={},c=[],t.t0=a,t.next="cinemaName"===t.t0?6:"filmName"===t.t0?9:"roomName"===t.t0?12:15;break;case 6:return t.next=8,Q("/cinema").then((function(e){c=e,n.tableName="cinema",n.idName="cinemaId",n.value="name",n.url="/cinema"}));case 8:return t.abrupt("break",15);case 9:return t.next=11,Q("/film").then((function(e){c=e,n.tableName="film",n.idName="filmId",n.value="name",n.url="/film"}));case 11:return t.abrupt("break",15);case 12:return t.next=14,Q("/room").then((function(e){c=e,n.tableName="room",n.idName="roomId",n.value="roomName",n.url="/room"}));case 14:return t.abrupt("break",15);case 15:if("cinemaName"!==a&&"filmName"!==a&&"roomName"!==a){t.next=21;break}return n.list=c,d.push(r.a.createElement(Le.b,{key:0,width:100,sort:"true",flexGrow:!0,align:"center"},r.a.createElement(Le.c,null,o[a]),r.a.createElement(Bt,{idName:i,dataKey:a,dropdownInfo:n,onChange:e.onDropdownChange}))),t.abrupt("return","continue");case 21:"time"===a?d.push(r.a.createElement(Le.b,{key:0,width:100,sort:"true",resizable:!0,align:"center"},r.a.createElement(Le.c,null,o[a]),r.a.createElement(Wt,{idName:i,dataKey:a,onChange:e.onDatePickerChange}))):d.push(r.a.createElement(Le.b,{key:0,width:100,sort:"true",resizable:!0,align:"center"},r.a.createElement(Le.c,null,o[a]),r.a.createElement(Le.a,{idName:i,dataKey:a,onChange:e.child.handleChange})));case 22:case"end":return t.stop()}}),t)})),h=0,b=p;case 12:if(!(h<b.length)){t.next=20;break}return t.delegateYield(f(),"t0",14);case 14:if("continue"!==t.t0){t.next=17;break}return t.abrupt("continue",17);case 17:h++,t.next=12;break;case 20:return e.setState({items:d}),t.abrupt("return",null);case 22:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.createSessionCols()}},{key:"render",value:function(){var e=this,t=this.state.items;return r.a.createElement(Ct,Object.assign({},this.props,{tableColumns:t,onRef:function(t){e.child=t}}))}}]),a}(n.Component));Ut.defaultProps={url:"/session",idName:"sessionId",dataToLabel:{sessionId:"ID",cinemaName:"Cinema",time:"Time",remainingSeats:"Remaining Seats",filmName:"Film",roomName:"Room",status:"Status"},listName:"list",tableHeader:"Session Manage",modalHeader:"Add a new session",labelNames:["Cinema","Film","Time","Actors","Rating","Introduction","Poster","Status"],dataNames:["name","duration","director","actors","rating","introduction","poster","status"]};var Bt=function(e){var t,a=e.rowData,n=(e.dataKey,e.onChange),c=e.idName,o=e.dropdownInfo,i=(e.onOpen,e.onClose,Object(at.a)(e,["rowData","dataKey","onChange","idName","dropdownInfo","onOpen","onClose"])),l=[],s=Object(fe.a)(o.list);try{for(s.s();!(t=s.n()).done;){var u=t.value,m={key:u[o.idName],text:u[o.value],value:u[o.value]};l.push(m)}}catch(d){s.e(d)}finally{s.f()}return r.a.createElement(Le.a,i,r.a.createElement(W.a,{trigger:r.a.createElement(g.a,{content:a[o.tableName][o.value]})},r.a.createElement(St.a,{fluid:!0,selection:!0,search:!0,options:l,onChange:function(e,t){var r,i=-1,s=Object(fe.a)(l);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(u.value===t.value){i=u.key;break}}}catch(d){s.e(d)}finally{s.f()}var m={dropdownItemId:i,dropdownIdName:o.idName};n(a[c],m)},placeholder:a[o.tableName][o.value]})))},Wt=function(e){var t=e.rowData,a=e.dataKey,c=e.onChange,o=e.idName,i=Object(at.a)(e,["rowData","dataKey","onChange","idName"]),l=Object(n.useState)(),s=Object(dt.a)(l,2);s[0],s[1];return r.a.createElement(Le.a,i,r.a.createElement(W.a,{trigger:r.a.createElement(g.a,{content:t[a]})},r.a.createElement(qt,{date:t[a],itemId:t[o],onChange:c})))},Yt=Ut,qt=function(e){var t=e.date,a=e.itemId,c=e.onChange,o=(Object(at.a)(e,["date","itemId","onChange"]),Object(n.useState)(new Date(t))),i=Object(dt.a)(o,2),l=i[0],s=i[1];return r.a.createElement(Ht.a,{selected:l,onChange:function(e){s(e),c(Ze(e),a)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa"})},Gt=ft,Jt=function(e){var t=e.rowData,a=e.type,c=e.formProps,o=v.a.Field,i=c,l=(i.dispatch,i.updateFormMsg,i.fieldValidate,i.canDispatch,i.getDescriptors),s=i.createStateFromDataProps,u={update:"Edit a user",create:"Add a user"};u=u[a];var m={username:{descriptor:{username:[ve("username")]},dataKey:"username",title:"Username",placeholder:"Please enter username"},password:{descriptor:{password:[ve("usepasswordrname")]},dataKey:"password",title:"Password",placeholder:"Please enter password"},email:{descriptor:{email:[ve("email")]},dataKey:"email",title:"Email",placeholder:"Please enter your email"},tel:{descriptor:{tel:[ve("tel")]},dataKey:"tel",title:"Phone number",placeholder:"Please enter your phone number"},isStudent:{dataKey:"isStudent",title:"Is a student",placeholder:"Are you a student"}},d=Object(n.useState)((function(){var e=void 0!==t,a=s(e,m,t);return Object(w.a)({},a,{userId:e?t.userId:"",errMsg:{}})})),p=Object(dt.a)(d,2),f=p[0],h=p[1],b=l(m);c=Object(w.a)({},c,{state:f,setState:h,descriptors:b,header:u,dataProps:m,type:a,api:Gt});var y=function(){var e=0,t=[];return t.push(function(e){var t=Object(w.a)({},m.username,{initVal:f.username});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},m.password,{initVal:f.password});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},m.email,{initVal:f.email});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=Object(w.a)({},m.tel,{initVal:f.tel});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(e++)),t.push(function(e){var t=m.isStudent,a=t.dataKey,n=t.title,c=t.placeholder,i=0!==f.isStudent;return r.a.createElement(o,{key:e,defaultChecked:i,control:je.a,label:n,onChange:function(e,t){var a=t.checked;console.log(t.checked),h(Object(w.a)({},f,{isStudent:!0===a?1:0}))},placeholder:c,name:a})}(e++)),t}();return c=Object(w.a)({},c,{formFields:y}),r.a.createElement(Et,{formProps:c})},$t=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={columns:[],isStudent:null},e.createUserCols=Object(T.a)(F.a.mark((function t(){var a,n,c,o,i,l;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.tableHeaders,n=[],c=0,o=Object(fe.a)(a),t.prev=3,o.s();case 5:if((i=o.n()).done){t.next=12;break}if("isStudent"!==(l=i.value).dataKey){t.next=9;break}return t.abrupt("continue",10);case 9:n.push(r.a.createElement(Le.b,{key:c++,width:200,resizable:!0,align:"center"},r.a.createElement(Le.c,null,l.title),r.a.createElement(Le.a,{dataKey:l.dataKey})));case 10:t.next=5;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),o.e(t.t0);case 17:return t.prev=17,o.f(),t.finish(17);case 20:n.push(r.a.createElement(Le.b,{key:c++,width:200,resizable:!0,align:"center"},r.a.createElement(Le.c,null,"isStudent"),r.a.createElement(Le.a,null,(function(e,t){return 0!==e.isStudent?"True":"False"})))),e.setState({columns:n});case 22:case"end":return t.stop()}}),t,null,[[3,14,17,20]])}))),e.getFormElement=function(e,t,a){return r.a.createElement(Jt,{rowData:a,type:e,formProps:t})},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.createUserCols()}},{key:"render",value:function(){var e=this.state.columns;return r.a.createElement(Ct,Object.assign({},this.props,{tableColumns:e,getFormElement:this.getFormElement}))}}]),a}(n.Component);$t.defaultProps={tableHeaders:[{title:"ID",dataKey:"userId"},{title:"Username",dataKey:"username"},{title:"Email",dataKey:"email"},{title:"Password",dataKey:"password"},{title:"Phone Number",dataKey:"tel"},{title:"Student",dataKey:"isStudent"}],url:"/user",idName:"userId",tableTitle:"User Manage"};var _t=$t,Qt=ht,Xt=function(e){var t=e.rowData,a=e.type,c=e.formProps,o={update:"Edit a cinema",create:"Add a cinema"},i={name:{descriptor:{name:[ve("Cinema")]},dataKey:"name",title:"Cinema",placeholder:"Please enter a cinema name"},tel:{descriptor:{tel:[ve("cinema contact")]},dataKey:"tel",title:"Telephone number",placeholder:"Please enter the cinema contact"},location:{descriptor:{location:[ve("location")]},dataKey:"location",title:"Location",placeholder:"Please enter the location"}};o=o[a];v.a.Field;var l=c,s=(l.dispatch,l.updateFormMsg,l.fieldValidate,l.canDispatch,l.getDescriptors),u=l.createStateFromDataProps,m=(l.clearInputVal,Object(n.useState)((function(){var e=void 0!==t,a=u(e,i,t);return Object(w.a)({},a,{cinemaId:e?t.cinemaId:"",errMsg:{}})}))),d=Object(dt.a)(m,2),p=d[0],f=d[1],h=s(i);c=Object(w.a)({},c,{state:p,setState:f,descriptors:h,header:o,dataProps:i,type:a,api:Qt});var b=function(){var e=[],t=0;return e.push(function(e){var t=Object(w.a)({},i.name,{initVal:p.name});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(t++)),e.push(function(e){var t=Object(w.a)({},i.location,{initVal:p.location});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(t++)),e.push(function(e){var t=Object(w.a)({},i.tel,{initVal:p.tel});return c=Object(w.a)({},c,{},t),r.a.createElement(pt,{key:e,formProps:c})}(t++)),e}();return c=Object(w.a)({},c,{formFields:b}),r.a.createElement(Et,{formProps:c})},Zt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={columns:[]},e.createCinemaCols=Object(T.a)(F.a.mark((function t(){var a,n,c,o,i,l;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.tableHeaders,n=[],c=0,o=Object(fe.a)(a);try{for(o.s();!(i=o.n()).done;)l=i.value,n.push(r.a.createElement(Le.b,{key:c++,width:200,resizable:!0,align:"center"},r.a.createElement(Le.c,null,l.title),r.a.createElement(Le.a,{dataKey:l.dataKey})))}catch(s){o.e(s)}finally{o.f()}e.setState({columns:n});case 6:case"end":return t.stop()}}),t)}))),e.getFormElement=function(e,t,a){return r.a.createElement(Xt,{rowData:a,type:e,formProps:t})},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.createCinemaCols()}},{key:"render",value:function(){var e=this.state.columns;return console.log(e),r.a.createElement(Ct,Object.assign({},this.props,{tableColumns:e,getFormElement:this.getFormElement}))}}]),a}(n.Component);Zt.defaultProps={tableHeaders:[{title:"ID",dataKey:"cinemaId"},{title:"Name",dataKey:"name"},{title:"Location",dataKey:"location"},{title:"Tel",dataKey:"tel"}],url:"/cinema",idName:"cinemaId",tableTitle:"Cinema Manage"};var ea=Zt,ta=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component),aa=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e}return Object(l.a)(a,[{key:"handleClick",value:function(){var e=this.state.visible;e=!e,this.setState({visible:e})}},{key:"render",value:function(){var e=this.state.visible,t={minHeight:document.body.clientHeight+"px"};return r.a.createElement(ut.a.Pushable,null,r.a.createElement(h.a,{columns:1},r.a.createElement(h.a.Row,{stretched:!0},r.a.createElement(h.a.Column,{style:t},r.a.createElement(mt,{visible:e}),r.a.createElement(ut.a.Pusher,null,r.a.createElement(Pe.a,null,r.a.createElement(Pe.a.Item,{as:g.a,icon:"sidebar",onClick:this.handleClick.bind(this)})),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/admin/admin-manage",component:It}),r.a.createElement(f.a,{path:"/admin/order-manage",component:zt}),r.a.createElement(f.a,{path:"/admin/session-manage",component:Yt}),r.a.createElement(f.a,{path:"/admin/film-manage",component:Ft}),r.a.createElement(f.a,{path:"/admin/cinema-manage",component:ea}),r.a.createElement(f.a,{path:"/admin/comment-manage",component:ta}),r.a.createElement(f.a,{path:"/admin/user-manage",component:_t})))))))}}]),a}(n.Component),na=Object(k.c)(st);o.a.render(r.a.createElement(j.a,null,r.a.createElement(p.a,{store:na},r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/admin",component:aa}),r.a.createElement(f.a,{path:"/index",component:ot}),r.a.createElement(f.a,{path:"/",component:ot})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},349:function(e,t,a){e.exports=a(1639)},354:function(e,t,a){},355:function(e,t){},514:function(e,t,a){e.exports=a.p+"static/media/poster.e21d4c71.jpg"}},[[349,1,2]]]);
//# sourceMappingURL=main.5a9bab76.chunk.js.map